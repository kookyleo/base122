# Base122 ç¼–ç åº“

[![Crates.io](https://img.shields.io/crates/v/base122.svg)](https://crates.io/crates/base122)
[![æ–‡æ¡£](https://docs.rs/base122/badge.svg)](https://docs.rs/base122)
[![è®¸å¯è¯: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

ä¸€ä¸ªé«˜æ€§èƒ½çš„ Base122 ç¼–ç /è§£ç  Rust åº“ï¼ŒåŸºäº [kevinAlbs çš„åŸå§‹ Base122 ç®—æ³•](https://github.com/kevinAlbs/Base122)ã€‚

Base122 æ˜¯ä¸€ç§äºŒè¿›åˆ¶åˆ°æ–‡æœ¬çš„ç¼–ç æ–¹å¼ï¼Œæ¯” Base64 **èŠ‚çœçº¦ 14% çš„ç©ºé—´**ï¼Œéå¸¸é€‚åˆç”¨äºæ•°æ® URI å’Œå…¶ä»–ç©ºé—´å—é™çš„åº”ç”¨åœºæ™¯ã€‚

## ç‰¹æ€§

- ğŸš€ **é«˜æ€§èƒ½**: åŸºäºä½æ“ä½œå®ç°æœ€é«˜æ•ˆç‡
- ğŸ“¦ **é›¶ä¾èµ–**: çº¯ Rust å®ç°
- ğŸ›¡ï¸ **å†…å­˜å®‰å…¨**: ä¸ä½¿ç”¨ unsafe ä»£ç 
- ğŸ¯ **ç©ºé—´é«˜æ•ˆ**: ~87% å‹ç¼©æ•ˆç‡ï¼Œç›¸æ¯” Base64 çš„ ~75%
- ğŸ”§ **æ˜“äºä½¿ç”¨**: ç®€å•çš„ç¼–ç /è§£ç  API
- ğŸ“š **æ–‡æ¡£å®Œæ•´**: å…¨é¢çš„æ–‡æ¡£å’Œç¤ºä¾‹

## ç®—æ³•æ¦‚è¿°

Base122 ä½¿ç”¨ç²¾å¯†çš„ä½çº§æ“ä½œæ–¹æ³•ï¼š

1. **7ä½æå–**: æ¯æ¬¡ä»è¾“å…¥æ•°æ®ä¸­ç²¾ç¡®æå– 7 ä½
2. **æ™ºèƒ½å­—ç¬¦æ˜ å°„**: å®‰å…¨å­—ç¬¦ç›´æ¥æ˜ å°„ä¸ºå•å­—èŠ‚
3. **UTF-8 ç¼–ç **: "å±é™©å­—ç¬¦" ä½¿ç”¨å¤šå­—èŠ‚ UTF-8 åºåˆ—
4. **æœ€ä¼˜æ•ˆç‡**: å®ç°çº¦ 87% çš„å‹ç¼©æ•ˆç‡

### å±é™©å­—ç¬¦

æœ‰å…­ä¸ªå­—ç¬¦è¢«è®¤ä¸ºåœ¨ä¼ è¾“ä¸­æ˜¯"å±é™©çš„"ï¼Œéœ€è¦ç‰¹æ®Šç¼–ç ï¼š

- `\0` (ç©ºå­—ç¬¦) - å¯èƒ½æˆªæ–­å­—ç¬¦ä¸²
- `\n` (æ¢è¡Œç¬¦) - ç ´åå•è¡Œæ ¼å¼  
- `\r` (å›è½¦ç¬¦) - ç ´åå•è¡Œæ ¼å¼
- `"` (åŒå¼•å·) - ä¸ JSON/HTML å±æ€§å†²çª
- `&` (å’Œå·) - ä¸ HTML å®ä½“å†²çª
- `\` (åæ–œæ ) - ä¸è½¬ä¹‰åºåˆ—å†²çª

## å¿«é€Ÿå¼€å§‹

åœ¨ä½ çš„ `Cargo.toml` ä¸­æ·»åŠ ï¼š

```toml
[dependencies]
base122 = "0.1"
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ç¤ºä¾‹

```rust
use base122::{encode, decode};

// ç¼–ç äºŒè¿›åˆ¶æ•°æ®
let data = b"Hello, World!";
let encoded = encode(data);
println!("ç¼–ç ç»“æœ: {}", encoded);

// è§£ç å›åŸå§‹æ•°æ®
let decoded = decode(&encoded).unwrap();
assert_eq!(data, &decoded[..]);
```

### å¤„ç†äºŒè¿›åˆ¶æ•°æ®

```rust
use base122::{encode, decode};

// åŒ…å«å±é™©å­—ç¬¦çš„äºŒè¿›åˆ¶æ•°æ®
let binary_data = vec![0, 10, 13, 34, 38, 92, 65, 66, 67];
let encoded = encode(&binary_data);
let decoded = decode(&encoded).unwrap();
assert_eq!(binary_data, decoded);
```

### å‘½ä»¤è¡Œä½¿ç”¨

æ„å»ºå¹¶è¿è¡Œç¤ºä¾‹ï¼š

```bash
cargo build --example demo
cargo run --example demo -- encode "Hello, World!"
cargo run --example demo -- decode "$(cargo run --example demo -- encode 'Hello, World!')"
```

## æ€§èƒ½è¡¨ç°

### æ•ˆç‡å¯¹æ¯”

| ç¼–ç æ–¹å¼ | è†¨èƒ€ç‡ | æ•ˆç‡ | ä½¿ç”¨åœºæ™¯ |
|----------|--------|------|----------|
| åå…­è¿›åˆ¶ | 2.00x | 50% | è°ƒè¯•è¾“å‡º |
| Base64 | 1.33x | 75% | é‚®ä»¶ã€HTTP |
| **Base122** | **1.14x** | **87%** | **æ•°æ® URIã€ç©ºé—´å—é™** |

### åŸºå‡†æµ‹è¯•ç»“æœ

```
æ•°æ®å¤§å°    ç¼–ç å­—èŠ‚    è†¨èƒ€ç‡    æ•ˆç‡      vs Base64
--------------------------------------------------------
10         12          1.200     83.3%     +16.7%
100        115         1.150     87.0%     +13.8%
1000       1143        1.143     87.5%     +14.3%
10000      11429       1.143     87.5%     +14.3%
```

## ä½•æ—¶ä½¿ç”¨ Base122

**âœ… ç†æƒ³åœºæ™¯:**
- HTML/CSS ä¸­çš„æ•°æ® URI
- ç©ºé—´å—é™çš„åº”ç”¨
- äºŒè¿›åˆ¶æ•°æ®ä¼ è¾“
- åŒ…å«äºŒè¿›åˆ¶å†…å®¹çš„ JSON è½½è·
- æœ‰å¤§å°é™åˆ¶çš„æ–‡æœ¬åè®®

**âŒ è€ƒè™‘å…¶ä»–æ–¹æ¡ˆ:**
- éœ€è¦ Base64 å…¼å®¹æ€§çš„ç³»ç»Ÿ
- ä¸æ”¯æŒ UTF-8 çš„ç¯å¢ƒ
- ç®€å•æ€§æ¯”æ•ˆç‡æ›´é‡è¦çš„åœºæ™¯

## åº”ç”¨ç¤ºä¾‹

### æ•°æ® URI ä¼˜åŒ–

```rust
use base122::encode;

// å›¾ç‰‡æ•°æ®ç”¨äº CSS/HTML
let image_data = std::fs::read("image.png").unwrap();
let base122_uri = format!("data:image/png;base122,{}", encode(&image_data));

// æ¯”ç­‰æ•ˆçš„ Base64 æ•°æ® URI å°çº¦ 14%
```

### äºŒè¿›åˆ¶åè®®

```rust
use base122::{encode, decode};

// ç¼–ç äºŒè¿›åˆ¶åè®®æ¶ˆæ¯
let message = vec![0x01, 0x02, 0x03, 0x04];
let encoded = encode(&message);

// é€šè¿‡åŸºäºæ–‡æœ¬çš„åè®®å‘é€
send_message(&encoded);

// åœ¨æ¥æ”¶ç«¯è§£ç 
let received = receive_message();
let decoded = decode(&received).unwrap();
```

## é”™è¯¯å¤„ç†

`decode` å‡½æ•°è¿”å› `Result<Vec<u8>, String>`ï¼š

```rust
use base122::decode;

match decode("æ— æ•ˆè¾“å…¥") {
    Ok(data) => println!("è§£ç æˆåŠŸ: {:?}", data),
    Err(e) => eprintln!("è§£ç é”™è¯¯: {}", e),
}
```

## æµ‹è¯•

è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼š

```bash
cargo test
```

è¿è¡Œè¯¦ç»†åŸºå‡†æµ‹è¯•ï¼š

```bash
cargo test -- --nocapture
```

è¿è¡Œç¤ºä¾‹ï¼š

```bash
cargo run --example demo benchmark
```

## å®é™…åº”ç”¨åœºæ™¯

### Web å¼€å‘
```rust
// åœ¨ CSS ä¸­åµŒå…¥å›¾ç‰‡ï¼Œæ¯” Base64 æ›´èŠ‚çœç©ºé—´
let css = format!(r#"
    .logo {{
        background-image: url("data:image/png;base122,{}");
    }}
"#, encode(&logo_data));
```

### æ•°æ®ä¼ è¾“
```rust
// JSON API ä¸­ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®
let response = json!({
    "file_data": encode(&file_content),
    "metadata": file_info
});
```

### åè®®è®¾è®¡
```rust
// æ–‡æœ¬åè®®ä¸­ä¼ è¾“äºŒè¿›åˆ¶è½½è·
let packet = format!("DATA:{}", encode(&binary_payload));
```

## æ€§èƒ½ç‰¹ç‚¹

- **ç¼–ç é€Ÿåº¦**: å¯¹äº 1KB æ•°æ®çº¦ 240Âµs
- **è§£ç é€Ÿåº¦**: å¯¹äº 1KB æ•°æ®çº¦ 146Âµs  
- **å†…å­˜ä½¿ç”¨**: O(n) å…¶ä¸­ n æ˜¯è¾“å…¥å¤§å°
- **çº¿ç¨‹å®‰å…¨**: æ‰€æœ‰å‡½æ•°éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„

## ä¸å…¶ä»–ç¼–ç çš„è¯¦ç»†å¯¹æ¯”

### ç©ºé—´æ•ˆç‡
- **vs Base64**: èŠ‚çœ 14.3% ç©ºé—´
- **vs Hex**: èŠ‚çœ 43% ç©ºé—´
- **vs Base85**: èŠ‚çœçº¦ 10% ç©ºé—´

### å…¼å®¹æ€§
- **UTF-8**: å®Œå…¨å…¼å®¹
- **JSON**: å¯ç›´æ¥ç”¨ä½œå­—ç¬¦ä¸²å€¼
- **URL**: å¯èƒ½éœ€è¦ URL ç¼–ç ï¼ˆåŒ…å«ç‰¹æ®Šå­—ç¬¦ï¼‰
- **HTML**: å¯ç›´æ¥ç”¨äºå±æ€§å€¼

## æŠ€æœ¯ç»†èŠ‚

### ä½çº§æ“ä½œ
Base122 é€šè¿‡ç²¾ç¡®çš„ä½æ“ä½œå®ç°é«˜æ•ˆç‡ï¼š
1. æŒ‰ 7 ä½è¾¹ç•Œåˆ†å‰²è¾“å…¥æ•°æ®
2. å°†å±é™©å­—ç¬¦ç¼–ç ä¸º UTF-8 åŒå­—èŠ‚åºåˆ—
3. ä½¿ç”¨ç´¯åŠ å™¨æ¨¡å¼é‡å»ºå­—èŠ‚æµ

### å±é™©å­—ç¬¦å¤„ç†
å±é™©å­—ç¬¦ä½¿ç”¨ UTF-8 æ ¼å¼ `110xxxxx 10yyyyyy` ç¼–ç ï¼ŒåŒæ—¶åŒ…å«ä¸‹ä¸€ä¸ª 7 ä½æ•°æ®å—ï¼Œå®ç°ä¿¡æ¯å¯†åº¦æœ€å¤§åŒ–ã€‚

## æ–‡æ¡£

- [API æ–‡æ¡£](https://docs.rs/base122)
- [ç®—æ³•è¯¦æƒ…](https://github.com/kevinAlbs/Base122)
- è¿è¡Œ `cargo doc --open` æŸ¥çœ‹æœ¬åœ°æ–‡æ¡£

## è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éšæ—¶æäº¤ Pull Requestã€‚

## è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è‡´è°¢

- åŸºäº Kevin Albertson çš„åŸå§‹ [Base122 ç®—æ³•](https://github.com/kevinAlbs/Base122)
- æ„Ÿè°¢å¯¹æ›´é«˜æ•ˆäºŒè¿›åˆ¶åˆ°æ–‡æœ¬ç¼–ç éœ€æ±‚çš„å¯å‘
- æ„Ÿè°¢ Rust ç¤¾åŒºæä¾›çš„ä¼˜ç§€å·¥å…·å’Œåº“

## å¤šè¯­è¨€ç‰ˆæœ¬

- [English](README.md)
- [ä¸­æ–‡](README.zh.md)

## ç›¸å…³é¡¹ç›®

- [Base64](https://docs.rs/base64) - æ ‡å‡† Base64 ç¼–ç 
- [Hex](https://docs.rs/hex) - åå…­è¿›åˆ¶ç¼–ç 
- [åŸå§‹ Base122 JavaScript å®ç°](https://github.com/kevinAlbs/Base122)

## å¸¸è§é—®é¢˜

### Q: Base122 ä¸ Base64 çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
A: Base122 ä½¿ç”¨æ›´å¤šå­—ç¬¦ï¼ˆ122 vs 64ï¼‰ï¼Œå®ç°æ›´é«˜çš„ä¿¡æ¯å¯†åº¦ï¼Œæ¯” Base64 èŠ‚çœçº¦ 14% ç©ºé—´ã€‚

### Q: æ˜¯å¦å¯ä»¥åœ¨æ‰€æœ‰ç¯å¢ƒä¸­å®‰å…¨ä½¿ç”¨ï¼Ÿ
A: Base122 äº§ç”Ÿæœ‰æ•ˆçš„ UTF-8 è¾“å‡ºï¼Œä½†åŒ…å«ä¸€äº›ç‰¹æ®Šå­—ç¬¦ã€‚åœ¨éœ€è¦ URL å®‰å…¨æˆ–ä¸¥æ ¼ ASCII çš„ç¯å¢ƒä¸­å¯èƒ½éœ€è¦é¢å¤–ç¼–ç ã€‚

### Q: æ€§èƒ½å¦‚ä½•ï¼Ÿ
A: Base122 çš„ç¼–ç /è§£ç é€Ÿåº¦ä¸ Base64 ç›¸å½“ï¼Œä½†æä¾›æ›´å¥½çš„ç©ºé—´æ•ˆç‡ã€‚

### Q: ä½•æ—¶ä¸åº”è¯¥ä½¿ç”¨ Base122ï¼Ÿ
A: å¦‚æœä½ éœ€è¦ä¸ç°æœ‰ Base64 ç³»ç»Ÿå…¼å®¹ï¼Œæˆ–è€…åœ¨ä¸æ”¯æŒ UTF-8 çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚